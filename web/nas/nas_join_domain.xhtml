<?xml version="1.0" encoding="GBK"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <!--                template="../template/framework.xhtml"-->


    <!--    <ui:define name="left">
            <ui:include src="../panel/leftMenu.xhtml"/>
        </ui:define>-->

    <!--    <ui:define name="content">-->
    <h:head>
        <link href="./../resources/common/css/cssIcon.css" rel="stylesheet" type="text/css" />
        <link href="./../resources/common/css/default.css" rel="stylesheet" type="text/css" />
    </h:head>
    <h:body>
        <script language="JavaScript">
            function clickConfirm(xhr, status, args) {
                //document.getElementById("form:myaddDialog").shide();
                // window.close();
                //              var  name = document.getElementById("form:username").value;
                //              if(name=="") {
                //                   alert("用户名不能为空！");
                //              }
                //              alert(name);
                var r = args.result;
                if (r != "success") {
                    alert(r);
                    return  false;
                }

                return  true;
            }
            function  clickAdd(xhr, status, args) {
                var r = args.result;
                if (r != "success") {
                    alert(r);

                }
            }
            function  save(xhr, status, args) {
                var r = args.result;
                if (r == "设置成功！") {
                    alert(r);
                    // return  false;
                }

                // return  true;
            }


        </script>
        <h:form id="form">
            <h1  class="title ui-widget-header ui-corner-all">#{res.get('title')}</h1>
            <p:messages  showSummary="true" showDetail="false" autoUpdate="true" closable="true"  />
            <br/>
            <!--<p:panel style="border-color: transparent;width: 350px" >-->
                <br/>
                <h:panelGrid columns="2" cellpadding="4"  >
                    <h:outputLabel value="#{res.get('dnsServer')}" />
                    <p:inputText id="dns" value="#{joinDomain.dnsIP}" />
                    <h:outputLabel value="#{res.get('ADName')}"  />
                    <p:inputText id="domain" value="#{joinDomain.ADDomainName}" />
                    <h:outputLabel value="#{res.get('ADUser')}" />
                    <p:inputText id="user" value="#{joinDomain.ADUserName}" />
                    <h:outputLabel  value="#{res.get('ADPasswd')}" />
                    <p:password id="passwd" value="#{joinDomain.ADPasswd}" />  
                </h:panelGrid>
                <p:watermark for="dns" value="#{res.get('egDNS')}" />
                <p:watermark for="domain" value="#{res.get('egDomain')}" />
                <br/>
                <h:panelGrid columns="2" >
                    <p:selectBooleanCheckbox style="vertical-align: middle"   value="#{joinDomain.suport2008OrNot}" >

                    </p:selectBooleanCheckbox>
                    <h:outputLabel  value="#{res.get('support2008')}" />
                </h:panelGrid>
            <!--</p:panel>-->
            <p:panel style="border-color: transparent;width: 350px;text-align: center" >
                <!--<p:spacer width="182" height="10" />-->
                <!--                oncomplete="save(xhr, status, args)" -->
                <p:commandButton value="#{global.get('save')}" icon="saveIcon"   action="#{joinDomain.save()}" />
                <p:spacer width="8" height="10" />
                <p:commandButton icon="cancleIcon" immediate="true" value="#{global.get('return')}" action="nas_domain_config?faces-redirect=true&amp;accordionActive=1"  />
                <!--                </p:layoutUnit>-->

                <!--            </p:layout>-->
            </p:panel>
        </h:form>
     
        <p:ajaxStatus style="width:64px;height:64px;position:fixed;right:5px;bottom:5px">  
            <f:facet name="start">  
                <p:graphicImage value="../resources/common/picture/loading.gif" />  
            </f:facet>  

            <f:facet name="complete">  
                <h:outputText value="" />  
            </f:facet>  
        </p:ajaxStatus>

    </h:body>
    <!--    </ui:define>-->
</html>
<!--        <p:dialog id="lookDomain" header="查看域" widgetVar="lookDomainDialog" resizable="false" >  
                    <br/>
                    <h:panelGrid columns="2" cellpadding="5" >  
                        <h:outputLabel value="是否在域中：" />  
                        <h:outputLabel   value="{domainBean.isOrNot}"   >
                        </h:outputLabel>
                        <h:outputLabel  value="域控制器：" />  
                        <h:outputLabel  value="{domainBean.domainController}"  >
                        </h:outputLabel>
                        <h:outputLabel   value="域名：" />  
                        <h:outputLabel   value="{domainBean.domainName}"  >
                        </h:outputLabel >
                        <p:spacer width="2" height="10" />
        
                    </h:panelGrid>  
                    <p:spacer width="45" height="6" />
        
                    <p:commandButton style="font-size: 15px"  value="确定"   oncomplete="lookDomainDialog.hide()">
        
                    </p:commandButton>  
        
                </p:dialog>-->
                <!--                <h:panelGrid columns="1" >
                                    <p:message  for="passwd" />
                -->
                <!--</h:panelGrid>-->
                <!--                </h:panelGrid>-->
                <!--                <br/>
                                <p:spacer width="300" height="10" />-->
                                <!--                <p:commandLink disabled="{user.type!=2}" value="查看域" style="text-decoration: underline;padding-bottom: 1px;border-bottom: 1px;font-size: 13px" oncomplete="lookDomainDialog.show()" />-->
                <!--                   <p:spacer width="10px" height="10px" /> update="domainset :form:lookDomain"  -->
                <!--<br/>-->                <!--                <h:panelGrid columns="3"  >
                                    <h:panelGrid columns="1"  >
                                        <h:outputLabel value="{res.get('dnsServer')}" />
                                    </h:panelGrid>
                                    <p:spacer width="1" height="10" />
                                    <h:panelGrid columns="1"  >
                                        <p:inputText id="dns" value="{joinDomain.dnsIP}" label="DNS服务器" >
                                            <f:validator validatorId="IPValidator" ></f:validator>
                                        </p:inputText>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="3" >
                                    <h:panelGrid columns="1"  >
                                        <h:outputLabel value="{res.get('ADName')}" />
                                    </h:panelGrid>
                                    <p:spacer width="27" height="10" />
                                    <h:panelGrid columns="1" >
                                        <p:inputText id="domain" value="{joinDomain.ADDomainName}"  >
                                            <f:validator validatorId="DomainValidate" ></f:validator>
                                        </p:inputText>
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="2" >
                                    <h:panelGrid columns="1" >
                                        <h:outputLabel value="{res.get('ADUser')}" />
                                    </h:panelGrid>
                                    <h:panelGrid columns="1"  >
                                        <p:inputText id="user" value="{joinDomain.ADUserName}" />
                                    </h:panelGrid>
                                </h:panelGrid>
                                <h:panelGrid columns="2" >
                                    <h:panelGrid columns="1" >
                                        <h:outputLabel  value="{res.get('ADPasswd')}" />
                                    </h:panelGrid>
                                    <h:panelGrid columns="1" >
                                        <p:password id="passwd" value="{joinDomain.ADPasswd}" />
                                    </h:panelGrid>
                                </h:panelGrid>-->